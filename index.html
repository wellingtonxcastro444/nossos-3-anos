<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3 Anos com Voc√™</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Inter:wght@300;400;500&family=Dancing+Script:wght@600;700&family=Caveat:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        /* --- RESET E BASES --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', sans-serif; background-color: #Fdfbf7; color: #2C3E50; line-height: 1.6; overflow-x: hidden; overflow-y: hidden; }
        
        /* --- 1. TELA DE SENHA --- */
        #password-screen {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: #1a1a1a; z-index: 200000;
            display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px;
        }
        .pass-content { 
            background: rgba(255, 255, 255, 0.05); padding: 40px; border-radius: 20px; text-align: center; 
            backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.1); max-width: 400px; width: 100%;
        }
        .pass-input { width: 100%; padding: 15px; margin-bottom: 20px; border-radius: 10px; border: none; text-align: center; font-size: 1.1rem; }
        .pass-btn { width: 100%; padding: 15px; border: none; border-radius: 10px; background: #A67B5B; color: white; font-weight: bold; cursor: pointer; }

        /* --- 2. O FEITI√áO DA VARINHA (REVELIO) --- */
        #wand-container {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: #000; z-index: 150000;
            display: none; justify-content: center; align-items: center; pointer-events: none;
        }
        .wand {
            width: 200px; transform: rotate(-45deg);
            filter: drop-shadow(0 0 10px #fff);
            animation: wandMagic 2s forwards;
        }
        @keyframes wandMagic {
            0% { transform: rotate(-45deg) translate(-100px, 100px); opacity: 0; }
            50% { transform: rotate(-20deg) translate(0, 0); opacity: 1; }
            80% { transform: rotate(-10deg) scale(1.2); filter: drop-shadow(0 0 30px #fff); }
            100% { transform: rotate(-10deg) scale(1); opacity: 0; }
        }
        .magic-flash {
            position: absolute; width: 10px; height: 10px; background: white; border-radius: 50%;
            box-shadow: 0 0 100px 50px white; opacity: 0;
            animation: flashAnim 0.8s 1.5s forwards;
        }
        @keyframes flashAnim {
            0% { transform: scale(1); opacity: 0; }
            50% { transform: scale(50); opacity: 1; }
            100% { transform: scale(100); opacity: 0; }
        }

        /* --- 3. TELA DE ENTRADA (CINEMA) --- */
        #entrance-screen {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: #0a0a0a; z-index: 100000;
            display: none; flex-direction: column; justify-content: center; align-items: center; transition: 1.5s opacity;
        }
        .pulse-btn { background: none; border: none; font-size: 5rem; cursor: pointer; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }

        /* --- EFEITOS GERAIS --- */
        .reveal { opacity: 0; transform: translateY(50px); transition: 1s all; }
        .reveal.active { opacity: 1; transform: translateY(0); }
        .hearts-container { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 9999; }
        .heart { position: absolute; color: #e74c3c; animation: fall linear forwards; }
        @keyframes fall { 0% { transform: translateY(-10vh); opacity: 0; } 10% { opacity: 1; } 100% { transform: translateY(110vh); opacity: 0; } }

        /* --- LAYOUT --- */
        .hero { height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: white; position: relative; overflow: hidden; }
        .hero-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.8)), url('fotocapa.jpeg') center/cover; z-index: -1; }
        .hero h1 { font-size: 4rem; text-shadow: 2px 2px 20px #000; }

        /* CONTADOR */
        .time-block { background: #fff; padding: 20px; border-radius: 20px; min-width: 120px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); text-align: center; }
        .time-block span { display: block; font-size: 2.5rem; font-weight: bold; font-family: 'Playfair Display'; }

        /* ENVELOPE E CARTA */
        .story-container { padding: 100px 20px; display: flex; flex-direction: column; align-items: center; }
        .envelope-wrapper { position: relative; width: 100%; max-width: 500px; height: 300px; cursor: pointer; perspective: 1000px; animation: float 3s infinite ease-in-out; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        
        .envelope { position: absolute; width: 100%; height: 100%; background: #d1bfae; border-radius: 8px; z-index: 2; transition: 0.8s; }
        .envelope-flap { position: absolute; top: 0; width: 100%; height: 50%; background: #c4b09d; clip-path: polygon(0 0, 100% 0, 50% 100%); transform-origin: top; transition: 0.8s; z-index: 5; }
        .letter-content { 
            position: absolute; top: 10%; left: 5%; width: 90%; background: #faf6f0; padding: 30px; 
            font-family: 'Caveat', cursive; font-size: 1.6rem; opacity: 0; transition: 1s; z-index: 1; border: 1px solid #eadecf;
            max-height: 400px; overflow-y: auto;
        }

        .envelope-wrapper.is-open .envelope-flap { transform: rotateX(180deg); }
        .envelope-wrapper.is-open .letter-content { transform: translateY(-100%); opacity: 1; z-index: 10; box-shadow: 0 20px 50px rgba(0,0,0,0.2); }

        /* VARAL */
        .varal-container { display: flex; overflow-x: auto; padding: 40px; gap: 30px; }
        .polaroid-hanging { background: #fff; padding: 10px 10px 20px 10px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); flex: 0 0 auto; width: 250px; }
        .polaroid-hanging img { width: 100%; height: 220px; object-fit: cover; }
        .polaroid-caption { font-family: 'Dancing Script'; text-align: center; margin-top: 10px; font-size: 1.5rem; }

        @media (max-width: 768px) { .hero h1 { font-size: 2.5rem; } .time-block { min-width: 80px; } }
    </style>
</head>
<body>

    <div id="password-screen">
        <div class="pass-content">
            <h2 style="color:white">üîí Qual o nosso segredo?</h2>
            <input type="text" id="pass-input" class="pass-input" placeholder="Digite a senha...">
            <button id="pass-btn" class="pass-btn">REVELIO</button>
            <p id="pass-error" style="color:red; display:none; margin-top:10px">Tente novamente, bruxinha!</p>
        </div>
    </div>

    <div id="wand-container">
        <svg class="wand" viewBox="0 0 100 10" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 5 L90 3 L100 5 L90 7 Z" fill="#4e342e"/>
            <circle cx="98" cy="5" r="2" fill="#fff"/>
        </svg>
        <div class="magic-flash"></div>
    </div>

    <div id="entrance-screen">
        <p style="color:white; font-family:'Playfair Display'; font-size: 1.5rem; margin-bottom: 20px">Feiti√ßo aceito...</p>
        <button class="pulse-btn" id="start-btn">‚ù§Ô∏è</button>
    </div>

    <div class="hearts-container" id="hearts-container"></div>

    <section class="hero">
        <div class="hero-bg"></div>
        <h1>3 Anos de N√≥s</h1>
        <p>A melhor decis√£o da minha vida</p>
    </section>

    <section class="counter-section reveal">
        <h2 style="text-align:center; margin-bottom:30px">Nosso Tempo Juntos</h2>
        <div style="display:flex; justify-content:center; gap:15px; flex-wrap:wrap">
            <div class="time-block"><span id="days">0</span><p>Dias</p></div>
            <div class="time-block"><span id="hours">0</span><p>Horas</p></div>
            <div class="time-block"><span id="minutes">0</span><p>Minutos</p></div>
        </div>
    </section>

    <section class="story-container reveal">
        <h2 style="margin-bottom:20px; color:#A67B5B">Uma Carta M√°gica</h2>
        <div class="envelope-wrapper" id="envelope-trigger">
            <div class="envelope">
                <div class="envelope-flap"></div>
                <p style="position:absolute; bottom:20px; width:100%; text-align:center; font-family:'Dancing Script'; font-size:1.5rem">Para: Fl√°via</p>
            </div>
            <div class="letter-content" id="typewriter-text">
                </div>
        </div>
    </section>

    <section class="gallery-section reveal">
        <h2 style="text-align:center">Nossas Mem√≥rias</h2>
        <div class="varal-container">
            <div class="polaroid-hanging"><img src="foto1.jpeg"><div class="polaroid-caption">Lembran√ßas</div></div>
            <div class="polaroid-hanging"><img src="foto4.jpeg"><div class="polaroid-caption">Meu amor</div></div>
            <div class="polaroid-hanging"><img src="foto5.jpeg"><div class="polaroid-caption">Para sempre</div></div>
            <div class="polaroid-hanging"><img src="foto22.jpeg"><div class="polaroid-caption">Tudo pra mim</div></div>
        </div>
    </section>

    <section class="music-section reveal" style="text-align:center; padding: 50px">
        <iframe src="https://open.spotify.com/embed/track/SUA_TRACK_AQUI" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
    </section>

    <script>
        const correctPass = "catitel";
        const letterText = "Minha querida Fl√°via,\n\nCome√ßamos nossa hist√≥ria h√° 3 anos. Nesses 1.096 dias, vivemos o extraordin√°rio. Voc√™ √© meu porto seguro, a pessoa que pedi a Deus.\n\nJuntos constru√≠mos nossa fam√≠lia com Safira e Bela, e o futuro reserva ainda mais. Quero voc√™ para sempre, em cada vida que existir.\n\nHoje te amo mais que ontem, e amanh√£ te amarei mais que hoje.\n\nCom amor, Wellington.";

        // --- SENHA E VARINHA ---
        document.getElementById('pass-btn').onclick = function() {
            const val = document.getElementById('pass-input').value.toLowerCase();
            if(val === correctPass) {
                confetti(); // Explos√£o de confetes
                document.getElementById('password-screen').style.display = 'none';
                const wand = document.getElementById('wand-container');
                wand.style.display = 'flex';
                
                setTimeout(() => {
                    wand.style.display = 'none';
                    document.getElementById('entrance-screen').style.display = 'flex';
                }, 2500);
            } else {
                document.getElementById('pass-error').style.display = 'block';
            }
        };

        // --- IN√çCIO DO SITE ---
        document.getElementById('start-btn').onclick = function() {
            document.getElementById('entrance-screen').style.display = 'none';
            document.body.style.overflowY = 'auto';
            reveal();
        };

        // --- ENVELOPE E M√ÅQUINA DE ESCREVER ---
        let hasTyped = false;
        document.getElementById('envelope-trigger').onclick = function() {
            this.classList.toggle('is-open');
            if(!hasTyped) {
                typeWriter();
                hasTyped = true;
            }
        };

        function typeWriter() {
            const element = document.getElementById('typewriter-text');
            let i = 0;
            element.innerHTML = "";
            function type() {
                if (i < letterText.length) {
                    element.innerHTML += letterText.charAt(i);
                    i++;
                    setTimeout(type, 50);
                }
            }
            type();
        }

        // --- CONTADOR ---
        const start = new Date(2023, 1, 27).getTime();
        setInterval(() => {
            const now = new Date().getTime();
            const d = now - start;
            document.getElementById('days').innerText = Math.floor(d/(1000*60*60*24));
            document.getElementById('hours').innerText = Math.floor((d%(1000*60*60*24))/(1000*60*60));
            document.getElementById('minutes').innerText = Math.floor((d%(1000*60*60))/(1000*60));
        }, 1000);

        // --- REVEAL ---
        function reveal() {
            document.querySelectorAll('.reveal').forEach(el => {
                if(el.getBoundingClientRect().top < window.innerHeight - 100) el.classList.add('active');
            });
        }
        window.onscroll = reveal;

        // --- CORA√á√ïES ---
        setInterval(() => {
            const h = document.createElement('div');
            h.className = 'heart'; h.innerHTML = '‚ù§Ô∏è';
            h.style.left = Math.random()*100+'vw';
            h.style.fontSize = Math.random()*20+10+'px';
            h.style.animationDuration = Math.random()*3+3+'s';
            document.getElementById('hearts-container').appendChild(h);
            setTimeout(() => h.remove(), 6000);
        }, 400);
    </script>
</body>
</html>
